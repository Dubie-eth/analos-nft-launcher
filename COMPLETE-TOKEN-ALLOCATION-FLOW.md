# ğŸ’° Complete Token Allocation & Flow

## ğŸ¯ Total Token Distribution (10M Example)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TOTAL SUPPLY: 10,000,000 TOKENS (100%)                â”‚
â”‚  (10,000 NFTs Ã— 1,000 tokens each)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â†“
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                               â”‚
          â†“                               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  POOL (60%)         â”‚       â”‚  ALLOCATIONS (40%)  â”‚
â”‚  6,000,000 tokens   â”‚       â”‚  4,000,000 tokens   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                               â”‚
          â”‚                               â”‚
          â†“                               â†“
    [Bonding Curve]            [Split 4 Ways]
          â”‚                               â”‚
          â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                   â”‚           â”‚           â”‚            â”‚
          â”‚                   â†“           â†“           â†“            â†“
          â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚         â”‚  Creator    â”‚ â”‚  Team   â”‚ â”‚Community â”‚ â”‚Platform â”‚
          â”‚         â”‚  (20%)      â”‚ â”‚  (10%)  â”‚ â”‚  (5%)    â”‚ â”‚  (5%)   â”‚
          â”‚         â”‚  2M tokens  â”‚ â”‚  1M tok â”‚ â”‚  500k tokâ”‚ â”‚ 500k tokâ”‚
          â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                â”‚             â”‚            â”‚            â”‚
          â”‚                â”‚             â”‚            â”‚            â”‚
          â”‚                â†“             â†“            â†“            â†“
          â”‚         [6mo vesting] [12mo vest]  [Immediate]  [Immediate]
          â”‚                                                        â”‚
          â†“                                                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Trading Flow       â”‚                              â”‚  Platform Revenue   â”‚
â”‚                     â”‚                              â”‚                     â”‚
â”‚  1. Bonding Curve   â”‚                              â”‚  Your Wallet:       â”‚
â”‚  2. Migration â†’     â”‚                              â”‚  86oK...MhpW        â”‚
â”‚  3. DLMM Trading    â”‚                              â”‚                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Token Distribution Breakdown

### Pool (6,000,000 tokens - 60%)

**Purpose:** Trading liquidity

**Split:**
```
5,400,000 tokens â†’ Bonding Curve (90% of pool)
  600,000 tokens â†’ Creator Pre-Buy (10% max, optional)
```

**Flow:**
1. **Phase 1:** Bonding curve trading
   - Users buy from curve
   - Price increases with demand
   - SOL collected for migration

2. **Phase 2:** Migration to DLMM
   - Trigger: Threshold met
   - Creates liquidity pool
   - Enables open trading

3. **Phase 3:** DEX Trading
   - Full liquidity on DLMM
   - Creator pre-buy tokens unlocked
   - Ongoing trading

---

### Creator (2,000,000 tokens - 20%)

**Vesting:** 6 months (adjustable)

**Breakdown:**
```
100,000 tokens (5%) â†’ Immediate unlock
1,900,000 tokens (15%) â†’ Vested over 6 months
```

**Schedule:**
```
Day 0:   100,000 tokens (5%)
Day 30:  190,000 tokens (cumulative: 290k)
Day 60:  380,000 tokens (cumulative: 480k)
Day 90:  570,000 tokens (cumulative: 670k)
Day 120: 760,000 tokens (cumulative: 860k)
Day 150: 950,000 tokens (cumulative: 1.05M)
Day 180: 2,000,000 tokens FULLY VESTED
```

**Creator Can:**
- Claim vested tokens monthly
- Sell on market after unlock
- Use for marketing/partnerships

---

### Team (1,000,000 tokens - 10%)

**Vesting:** 12 months (adjustable)

**Team Wallet:** Set by creator during setup

**Breakdown:**
```
50,000 tokens (5%) â†’ Immediate
950,000 tokens (95%) â†’ Vested over 12 months
```

**Use Cases:**
- Developer compensation
- Advisor payments
- Team retention
- Operational expenses

**Claim Process:**
```rust
// Team wallet claims monthly
pub fn claim_team_tokens(
    ctx: Context<ClaimTeamTokens>,
) -> Result<()> {
    let config = &mut ctx.accounts.token_launch_config;
    let clock = Clock::get()?;
    
    // Calculate vested amount
    let months_elapsed = (clock.unix_timestamp - config.bond_time.unwrap()) / (30 * 24 * 60 * 60);
    let vested_amount = calculate_vested_tokens(
        config.team_tokens,
        months_elapsed,
        12, // 12-month vesting
    );
    
    let claimable = vested_amount - config.team_tokens_claimed;
    
    // Transfer tokens
    token::transfer(escrow â†’ team_wallet, claimable)?;
    
    config.team_tokens_claimed += claimable;
    
    Ok(())
}
```

---

### Community (500,000 tokens - 5%)

**Vesting:** Immediate (no lock)

**Community Wallet:** Set by creator during setup

**Use Cases:**
- Airdrops to holders
- Community rewards
- Marketing campaigns
- Giveaways
- Partnership incentives

**Examples:**
```
Airdrop #1: 100,000 tokens â†’ Top 100 NFT holders
Airdrop #2: 50,000 tokens â†’ Twitter engagement
Marketing: 200,000 tokens â†’ Influencer partnerships
Reserve: 150,000 tokens â†’ Future campaigns
```

**Creator Control:**
- Decides how to distribute
- Can do multiple airdrops
- Immediate access (no vesting)
- Full flexibility

---

### Platform (500,000 tokens - 5%)

**Vesting:** Immediate

**Platform Wallet:** Your admin wallet `86oK6fa5mKWEAQuZpR6W1wVKajKu7ZpDBa7L2M3RMhpW`

**Purpose:**
- Protocol revenue
- Development fund
- Security audits
- Platform growth

**Automatic Collection:**
```rust
// Platform tokens automatically sent on bonding
pub fn trigger_bonding(
    ctx: Context<TriggerBonding>,
    initial_sol_amount: u64,
) -> Result<()> {
    let config = &mut ctx.accounts.token_launch_config;
    
    // Calculate distributions
    let platform_tokens = (total_tokens * config.platform_percentage_bps) / 10000;
    
    // Transfer platform fee immediately
    let platform_config = &ctx.accounts.platform_config;
    token::transfer(
        escrow â†’ platform_treasury,
        platform_tokens
    )?;
    
    config.platform_tokens_claimed = platform_tokens;
    platform_config.platform_revenue_collected += platform_tokens;
    
    // Continue with bonding...
    Ok(())
}
```

---

## ğŸª Creator Pre-Sale Example

### Scenario:
```
Pool: 6,000,000 tokens
Admin max pre-buy: 10% of pool
Admin max discount: 25%

Creator Settings:
- Pre-buy: 600,000 tokens (10% max)
- Discount: 20%
- Bonding curve start: 0.01 LOS/token
```

### Calculation:
```
Normal bonding curve price: 0.01 LOS/token
Pre-sale price: 0.008 LOS/token (20% discount)

Tokens to buy: 600,000
Cost: 600,000 Ã— 0.008 = 4,800 LOS

Savings vs buying on curve: 1,200 LOS (20%)
```

### Lockup:
```
Pre-bought tokens locked until migration
Migration triggers at: 1,000 LOS collected OR target price

After migration:
- Tokens unlock
- Creator can sell or hold
- Same as pool tokens
```

### Flow:
```
1. Before Launch
   â”œâ”€> Creator sends 4,800 LOS
   â””â”€> Receives 600,000 tokens (locked)

2. Public Launch
   â”œâ”€> Users buy from bonding curve
   â”œâ”€> Pool now effectively: 5,400,000 tokens
   â””â”€> Price starts at 0.01 LOS

3. Migration Trigger
   â”œâ”€> 1,000 LOS collected
   â””â”€> All tokens migrate to DLMM

4. After Migration
   â”œâ”€> Creator's 600k tokens unlock
   â”œâ”€> Can sell on DEX
   â””â”€> Same liquidity as pool tokens
```

---

## ğŸ›ï¸ Admin Controls for Each Allocation

### Platform Fee Control:
```
Default: 5%
Min creators can set: 3%
Max creators can set: 10%

Admin can update via panel:
- Change default percentage
- Adjust min/max range
- Disable/enable temporarily
```

### Pre-Sale Control:
```
Default max: 10% of pool
Default max discount: 25%

Admin can update:
- Max percentage (0-20%)
- Max discount (0-50%)
- Enable/disable globally
- Set min/max buy amounts
```

### Allocation Limits:
```
Pool: Min 50% (prevent low liquidity)
Creator: Max 30% (prevent dump risk)
Team: Max 20% (reasonable compensation)
Community: Max 10% (controlled distribution)

Admin can adjust all limits
Must ensure total = 100%
```

---

## ğŸ’¡ Validation Rules

### On Collection Creation:
```rust
// Check percentages add up
require!(
    pool_bps + creator_bps + team_bps + community_bps + platform_bps == 10000,
    ErrorCode::InvalidAllocation
);

// Check against platform limits
require!(
    pool_bps >= platform_config.min_pool_percentage_bps,
    ErrorCode::PoolTooLow
);

require!(
    creator_bps <= platform_config.max_creator_percentage_bps,
    ErrorCode::CreatorAllocationTooHigh
);

// Validate pre-sale settings
if presale_enabled {
    require!(
        presale_max_bps <= platform_config.presale_max_allowed_bps,
        ErrorCode::PresaleExceedsLimit
    );
    
    require!(
        presale_discount_bps <= platform_config.presale_max_discount_bps,
        ErrorCode::DiscountTooHigh
    );
}

// Validate vesting
require!(
    vesting_days >= platform_config.min_vesting_days,
    ErrorCode::VestingTooShort
);
```

---

## ğŸ“Š Real Example: 10K Collection

```
Collection: "Analos Genesis"
Supply: 10,000 NFTs
Mint Price: 0.1 LOS
Tokens per NFT: 1,000
Total Tokens: 10,000,000

Creator Choices:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Allocation   â”‚ BPS     â”‚ Tokens       â”‚ Vesting    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Pool         â”‚ 6000    â”‚ 6,000,000    â”‚ -          â”‚
â”‚ Creator      â”‚ 2000    â”‚ 2,000,000    â”‚ 6 months   â”‚
â”‚ Team         â”‚ 1000    â”‚ 1,000,000    â”‚ 12 months  â”‚
â”‚ Community    â”‚ 500     â”‚   500,000    â”‚ Immediate  â”‚
â”‚ Platform     â”‚ 500     â”‚   500,000    â”‚ Immediate  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ TOTAL        â”‚ 10000   â”‚ 10,000,000   â”‚            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Pre-Sale:
- Amount: 600,000 tokens (10% of pool)
- Discount: 20%
- Cost: 4,800 LOS

Revenue:
- NFT Sales: 1,000 LOS (10k Ã— 0.1)
- Bonding Curve: ~5,000 LOS (estimated)
- Platform Fee: 500,000 tokens (5%)

Total Creator Gets:
- 2M tokens (vested)
- 600k tokens (pre-buy, locked until migration)
- 1,000 LOS (NFT sales)
```

---

## âœ… Summary

**Token Allocations:**
- âœ… Pool: 60% (trading liquidity)
- âœ… Creator: 20% (vested)
- âœ… Team: 10% (vested, separate wallet)
- âœ… Community: 5% (immediate, airdrops/marketing)
- âœ… Platform: 5% (protocol fee)

**Creator Pre-Sale:**
- âœ… Optional up to admin limit (default 10%)
- âœ… Discount up to admin limit (default 25%)
- âœ… Locked until migration
- âœ… Uses creator's LOS

**Admin Controls:**
- âœ… Update all percentages/limits
- âœ… Control pre-sale parameters
- âœ… Set vesting requirements
- âœ… Emergency pause
- âœ… Withdraw platform revenue

**Your Admin Wallet:** `86oK6fa5mKWEAQuZpR6W1wVKajKu7ZpDBa7L2M3RMhpW`

**Complete control over the entire platform!** ğŸ›ï¸

